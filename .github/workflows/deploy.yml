name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v5 
      - name: SSH Deploy
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USERNAME }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          
          script: |
            export PATH="$PATH:/home/${{ secrets.SSH_USERNAME }}/.nvm/versions/node/v22.16.0/bin"
            cd ~/
            mkdir test_new
            cd test_new
            git clone git@github.com:kasbreen94/test_deploy.git
            cd test_deploy
            yarn install
            yarn build
            ls -la 
            rm -rf !("dist" | "package.json" | "vite.config.ts")
            cd ~/
            rm -rf test_deploy
            mv ~/test_new/test_deploy ~/test_deploy
            rm -rf test_new
            ls -la test_deploy
           
